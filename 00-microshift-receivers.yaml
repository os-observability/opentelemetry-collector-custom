---
receivers:
  otlp/microshift-workload:
    protocols:
      grpc:
        endpoint: "${env:MICROSHIFT_WORKLOAD_IP}:54317"

  kubeletstats/microshift:
    collection_interval: 20s
    auth_type: "tls"
    endpoint: "https://${env:K8S_HOST_IP}:10250"
    ca_file: "/var/lib/microshift/certs/kube-apiserver-to-kubelet-client-signer/ca.crt"
    key_file: "/var/lib/microshift/certs/kube-apiserver-to-kubelet-client-signer/kube-apiserver-to-kubelet-client/client.key"
    cert_file: "/var/lib/microshift/certs/kube-apiserver-to-kubelet-client-signer/kube-apiserver-to-kubelet-client/client.crt"
    insecure_skip_verify: true
